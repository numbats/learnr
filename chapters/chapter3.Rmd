---
title: 'Chapter 3: How to ask for help'
description:
  'Places to find help with troubleshooting R, useful resources, and how ask clear questions with minimally reproducible examples.'
prev: /chapter2
next: /chapter4
type: chapter
id: 3
output:
  teachr::teachr_chapter:
  html_document:
    self_contained: true
---

```{r setup, include = FALSE}
library(teachr)
library(tidyverse)
knitr::knit_hooks$set(class = function(before, options, envir) {
  if(before) {
    sprintf("<div class='%s'>", options$class)
  } else {
    "</div>"
  }
})
knitr::opts_chunk$set(fig.retina = 2,
                      fig.width = 6, 
                      fig.height = 4,
                      fig.align = "center",
                      cache = TRUE,
                      cache.path = "cache/",
                      message = FALSE,
                      warning = FALSE)
library(icons)
```

<exercise id="1" title="What do I do when I see error messages">

## What do I do when I see <span style="color: red;"> errors </span>

When you first start working RStudio and sees <span style="color: red;">red errors </span>, don't panic! This chapter will guide you through this difficult time.     

The first thing to do is to simply **read** the errors. It is important for you to read the errors to have a basic understanding of the error is telling you. This will help you communicate your question to others. 


## How to interpret error message? 

Run the example below and interpret the error message. What does it tell you? 

When you run the code above, you show see error message: "Error in cars %>% mutate(total = dist * speed): could not find function "%>%" ". This is generally the case when you did not load in the required packages before trying to use this function. As we mentioned in chapter 1, when you want to use functions coming from packages, you need to first load in the package using `library()`. Now let's try to fix the error. 

```{teachr 03_01}

data(cars)

total_dis <- cars %>%
  mutate(total = dist*speed)

total_dis %>% head()

--- 
Hint: %>% is an operater defined in magrittr package which is used in tidyverse and dplyr Try read in the package before using %>%. 

???
test <- function() {
expect_true(
  "dplyr" %in% loadedNamespaces())
expect_true(
  "tidyverse" %in% loadedNamespaces())
  success("Well done!")
}  
```


There are also times you mistyped some variables names. Try run the code below and have a look at the error code. 

It fist tells you which function is causing the error. In this case is the `mutate` function. It then tells you what is causing the error in the `mutate` function which is "object 'sped' not found". This is also an common error people make where they mistyped their object names. When the error message says "object not found", first check whether you have correctly spelt the object's name. If you have correctly spelt the object's name and it still could not found the object, it could be the case that you haven't created the object yet. Make sure you run your code sequentially.  

```{teachr 03_02}

total_dis <- cars %>%
  mutate(total = dist*sped)

total_dis %>% head()

--- 
Hint: What is "sped"? Is there a typo? 
test <- function() {
 total_dis <- cars %>%
  mutate(total = dist*speed)
  success("Well done!")
}  
```

Another common error is missing `()`. Sometime you might have incompleted brackets. See the example below:

![text](missing.png)


When you running to this situation, see on the left side of your R script, it shows an <span style="color: red;">  `r icons::fontawesome("times", style = "solid")` </span> on line 15. This is an indication that there is something wrong with this line of code. In this case we are missing half of the brackets. In the console, it shows <span style="color: red;">  `r icons::fontawesome("plus", style = "solid")` </span>. This help you located where your code is wrong. By adding `)`to compete the `mean()` function should fix this red error sign.  

When it is showing `r icons::fontawesome("plus", style = "solid")` in your console, it suggests that your code is incompleted. To get yourself out from this situation, you can tap on the **esc** key. 

## I have no idea what my <span style="color: red;"> error </span> is telling me. 

Sometime after read through the error messages, you have no idea what might cause this error </span> or do not understand the error messages. The simplest way is to **copy** all your error messages and **paste** it to **Google** (This is not the ideal way of searching for help but it is one of the ways).

</exercise>

<exercise id="2" title="Where should I ask for help?">

## Where should I ask for help?

R is an open source language and there are a lot of platform to seek for helps. 


[Stack Overflow](https://stackoverflow.com/questions/tagged/rstudio). This is a platform where you can search for solutions and ask for helps. Before you put a question on [Stack Overflow](https://stackoverflow.com/questions/tagged/rstudio), you can search some key words from your understanding of your error messages. It is likely that people already asked similar question related to your error and you can try the solutions provided by others under the question. If you couldn't find any question or solutions that fix your problem, you can `Ask Questions`. Later in this chapter we will show you how to ask questions with minimal reproducible examples.  


[RStudio Community](https://community.rstudio.com/#). This is a community channel for RStudio users. Similar to [stackoverflow](https://stackoverflow.com/questions/tagged/rstudio), you can ask questions and also find solutions.   


[Github](https://github.com/). If you know your error really well and you think there might be a problem with the `package`, you can open an issue at the `package` repository.   


Discussion forum on Moodle. There is discussion forum for each subject on Moodle. You can post your questions to there and your tutor and lecture will answers them. This is a good place for you to share your questions and you can also answer other students' questions. This way you can learn from other students and help each other out. 

Ask your lectures and tutors. We are here to help. Don't be afraid to ask for helps. It might take you a few hours to figure out what is going on with your error and it might take us a few minutes to help you fix it because we have went through the debug process plenty of times.   

Post it to your subject discussion forum. You can also post your questions to the subject discussion forum where it will get answered by one of your lecturer or tutor.   

For all the above channels where you can seek for help, it is important to provide a minimal reproducible examples for your error. If we cannot reproduce your error, it is hard for us to try to understand your problem and help you. 


</exercise>

<exercise id="3" title="Minimal reproducible examples">

## Describe the problem 

- Please avoid `it doesn't work` or `it shows errors` these generic terms when describing the problem. It doesn't help others to understand your question. Try to be more specific when communicating the problem. 

- State what you want to achieve and what are the expected behaviours.  

- Provide a copy of your error messages. This has to be exact words of your error messages. 

- Use a brief but descriptive summary of your problem as the title of your question. 


## Use `sessionInfo()`

Sometime your error might be some conflicts with your R, RStudio and package versions. Provide your `sessionInfo()` is necessary for others to determine whether it is a version conflicts problem. Make sure you provide your `sessionInfo()` in your minimal reproducible examples for your error. You can run `sessionInfo()` in your console and it will shows all the session related information. 

## Providing a minimal dataset

If your question involves using a dataset, you will need to provide a minimal dataset to demonstrate the problem. Generally speaking, the easiest way to provide a minimal dataset would be using a build-in dataset. For example, you can use `data(mpg)` or `data(iris)`. Both of them are build-in datasets in RStudio.

If you think the problem might be the original data, you can also provide a minimal dataset using the original data. You can use `dput(original_data)` in your console and copy the output to your problem. Others will be able to load in the data based on the output you provided. For example, when you run `dput(head(iris))` (using `head()` function to subset the first six rows of the dataset), it should print out: 
```{r,eval =FALSE}
structure(list(Sepal.Length = c(5.1, 4.9, 4.7, 4.6, 5, 5.4), 
    Sepal.Width = c(3.5, 3, 3.2, 3.1, 3.6, 3.9), Petal.Length = c(1.4, 
    1.4, 1.3, 1.5, 1.4, 1.7), Petal.Width = c(0.2, 0.2, 0.2, 
    0.2, 0.2, 0.4), Species = structure(c(1L, 1L, 1L, 1L, 1L, 
    1L), .Label = c("setosa", "versicolor", "virginica"), class = "factor")), row.names = c(NA, 
6L), class = "data.frame")
```

Copy the above output to your as part of your question, others can load in the data using this output.

If your original dataset is very large, you should subset your datasets to make it easier for others to reproduce your problem. The above example only provides the first six rows of `iris` dataset to make it a minimal dataset. 


## Provide minimal code

When you are working in a large file, it is necessary for you to identify where the problem is raising from. Using `.Rmd` would be a good way to help you organise your code and identify where the problem is. You can organise your code in different code chunk and this would help you locate your errors. If one code chunk did not run successfully, you would know that it is this code chunk that is causing the problems.

Read the error message, it would generally tell you which line of the code is producing this error. This would also help you locate your problematic codes. 

By providing the related code is necessary to communicate your problem to others. To ensure that this minimal code example works for you, you should open a new R session and test run this see if it works or not. 

## State what `packages` you used in this example

People might not know what `packages` is needed to reproduce your problem. So please include all the `packages` you used in your troubleshooting. 

## `set.seed()`

If your problem involves simulation or using any randomness functions, please `set.seed()` so it provides consistent results. 


## Don'ts

- Make sure you are not using `environment` data. Others do not have these variables or data in their `environment`. Please start a new R session to test whether your example is reproducible or not. 

- Only provide relevant codes. Please do not provide the entire R file if it is not relevant to the problem. 

- Don't use absolute path. People would not have the same path as you do when describing file paths. 


</exercise>


<exercise id="4" title="Using `reprex` package to help you make a reproducible example">


## Using `reprex` to help you make a reproducible example

The `reprex` package is an useful tool that help you make a reproducible example. If you have installed `tidyverse`  `tidyverse`, as part of the `tidyverse` family, `reprex` gets installed alongside with `tidyverse`. Make sure you are loaded in `library(reprex)` before using the `reprex()` function. 

Once you have loaded in the `reprex` package, go to the **Addins**, you should be able to find the additional functions inducing "Render reprex..." and "Reprex Selection". 


Once you clicked on `Render reprex...`, it will show you a pop-up window: 

![text](reprex_render.png)
You can select which file contains your minimal reproducible example. You can also select the output formate. If you want to post this question to Github or [Stack Overflow](https://stackoverflow.com/questions/tagged/rstudio), you can select "GitHub or Stack Overflow".

You can put all your minimal reproducible example code into this `reprex()` function to test whether it is actually an reproducible example. If you can run everything in this `reprex()` function successfully. it means that it is self-contained. From your **Viewer** window, it will show the what the reproducible example looks like. In your **Console**, you should see the message "Reprex output is on the clipboard."  You can paste the code directly to your question forum. 

</exercise>

<exercise id="5" title="Check-list">

This is not an exhaustive check-list.

- <input type="checkbox" unchecked> Is the problem clearly defined? </input>  

- <input type="checkbox" unchecked> Is the expected solution or behaviour outlined? </input>  

- <input type="checkbox" unchecked> Is the problem asked at the right place or person? </input>  

- <input type="checkbox" unchecked> Can people who can answer your question find your question? E.g. does the
post have appropriate tags or keywords to reach the right experts? </input>  

- <input type="checkbox" unchecked> Can the problem be easily reproduced on other people's system? E.g. use `sessionInfo()` to provide your system information. </input>  

- <input type="checkbox" unchecked> Is the minimum reproducible code or steps supplied? </input>  

### If your questions involves a dataset

- <input type="checkbox" unchecked> Is the data supplied? </input>  

- <input type="checkbox" unchecked> If the data is big, could you cull your data further to communicate or
reproduce the problem? </input>  


</exercise>

<exercise id="6" title="Additional Resources ">

- [How to create a Minimal, Reproducible Example - stackoverflow](https://stackoverflow.com/help/minimal-reproducible-example)

- [Posting Guide: How to ask good questions that prompt useful answers](https://www.r-project.org/posting-guide.html)

- [How to make a great R reproducible example](https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example)

- [Get Help! How to use reprex package.](https://www.tidyverse.org/help/)

- [Three tips for posting good questions to R-help and Stack Overflow](https://www.r-bloggers.com/2011/01/three-tips-for-posting-good-questions-to-r-help-and-stack-overflow/)

</exercise>
