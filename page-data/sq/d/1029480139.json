{"data":{"site":{"siteMetadata":{"testTemplate":"success <- function(text) {\n    cat(paste(\"\\033[32m\", text, \"\\033[0m\", sep = \"\"))\n}\n\n.solution <- \"${solutionEscaped}\"\n\n${solution}\n\ntryCatch({\n    suppressPackageStartupMessages(library(testthat))\ntestthat:::test_code(\"Exercise\", {\n${test}\n}, reporter = .learnr_reporter$new())\n}, error = function(e) {\n    cat(paste(\"\\033[31m\", e[1], \"\\033[0m\", sep = \"\"))\n})","juniper":{"repo":"numbats/learnr","branch":"binder","kernelType":"ir","lang":"r","debug":false}}},"allCode":{"edges":[{"node":{"name":"exc_02_01","code":"# Assign the sum of 1,3,5,7,9 to the variable x\nx <- _____\n\n# Assign the product of x and 3 to the variable y\ny <- _____\n\n"}},{"node":{"name":"exc_02_02","code":"# Change weather to be \"sunny\"\nweather <- \"rainy\"\n\n# Change brolly_needed to be \"FALSE\"\nbrolly_needed <- TRUE\n\n# Change temperature to be 27\ntemperature <- 13\n"}},{"node":{"name":"exc_02_06","code":"S <- matrix(c(1,0,0,1), byrow=TRUE, nrow=2)\nT <- matrix(c(2,2,4,3), byrow=TRUE, nrow=2)\n# Construct a matrix M by stacking S on top of T\nM <- _____\n\n# Select a sub-matrix of M with the data on the rows 1, 2, 3 and columns 2.\npart_of_M <- _____\n\n"}},{"node":{"name":"exc_02_07_01","code":"iris\n\n\n"}},{"node":{"name":"exc_02_07_02","code":"df <- ToothGrowth\n\n# Have a quick look at the first few observations of df\n\n\n"}},{"node":{"name":"exc_02_07_03","code":"symbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- _____\n\n"}},{"node":{"name":"exc_02_07_04","code":"\nsymbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\n\n# Use order() to create positions\npositions <- _____\n\n# Use positions to create a sort the first_ten_elements\nsorted_df <- _____\n\n"}},{"node":{"name":"exc_02_10_01","code":"\ncountries <- c('US', 'China','Japan', 'Germany','India')\nnominalGDP_trilion_2017 <- c(19.485, 12.238, 4.872, 3.693, 2.651)\npopulation_million_2017 <- c(325, 1421, 127, 82, 1338)\n\n\n# Write a for loop that takes the nominal GDP (in trillion) for each country in 2017 and divided it by the population (in million) in the same year\n# Assign the result to the variable my_result\nmy_result <- c(0,0,0,0,0)\nfor (i in 1:length(countries)) {\n  my_result[i] <- _____\n}\n\n"}},{"node":{"name":"exc_02_11_01","code":"# Create a function power_three()\npower_three <- _____\n# Use the function\npower_three(_____)\n\n"}},{"node":{"name":"exc_02_11_02","code":"# Write some code to roll a die\n\nroll_a_die <- _____\n\n"}},{"node":{"name":"exc_03_01","code":"\ndata(cars)\n\ntotal_dis <- cars %>%\n  mutate(total = dist*speed)\n\nhead(total_dis)\n\n"}},{"node":{"name":"exc_03_02","code":"\ntotal_dis <- cars %>%\n  mutate(total = dist*_____)\n\ntotal_dis %>% head()\n\n"}},{"node":{"name":"exc_04_01","code":"# Let's try read in a dataset \n# Just run this code and view the first six rows for this penguins dataset\n\npenguins <- read.csv(\"data/penguins.csv\")\n\nhead(penguins)\n\n"}},{"node":{"name":"exc_03_03","code":"mean(total_dis$total\n     \n     \n"}},{"node":{"name":"exc_05_01","code":"# Let's try read in a dataset \n# Just run this code and view the first six rows for this penguins dataset\n\npenguins <- read.csv(\"data/penguins.csv\")\n\nhead(penguins)\n\n"}},{"node":{"name":"exc_05_02","code":"library(readr)\n# This is an example for read_csv function from readr package \n# You can put in an inline csv file for the read_csv function like this \n\nread_csv(\"x,y,z,\n         1,2,3,\n         4,5,6\")\n\n"}},{"node":{"name":"exc_05_03","code":"library(readr)\n# This is an example for read_csv function from readr package \n# You can put in an inline csv file for the read_csv function like this \n\nread_csv(\"x,y,z,\n         1,2,3,\n         4,5,6\")\n\n"}},{"node":{"name":"exc_05_03_01","code":"\nnew_iris <- iris %>% \n\n"}},{"node":{"name":"exc_05_04","code":"# Let's try use read_csv to import penguins dataset\n\nlibrary(readr)\n\npenguins_readr <- read_csv(\"data/penguins.csv\")\n\nhead(penguins_readr)\n\n"}},{"node":{"name":"exc_05_05","code":"# Let's try use read_csv to import the Australian Fires dataset from Github\n# The url for this file is 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv'\n\nlibrary(readr)\n\nrainfall<- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv')\n\nhead(rainfall)\n\n"}},{"node":{"name":"exc_06_03_01","code":"\nnew_iris <- iris %>% \n\n"}},{"node":{"name":"exc_06_03_02","code":"\n\n"}},{"node":{"name":"exc_06_05_01","code":"\n"}},{"node":{"name":"exc_06_05_02","code":"\n"}},{"node":{"name":"solution_02_06","code":"S <- matrix(c(1,0,0,1), byrow=TRUE, nrow=2)\nT <- matrix(c(2,2,4,3), byrow=TRUE, nrow=2)\n# Construct a matrix M by stacking S on top of T\nM <- rbind(S,T)\n\n# Select a sub-matrix of M with the data on the rows 1, 2, 3 and columns 2.\npart_of_M <- M[1:3,2]\n\n"}},{"node":{"name":"solution_02_02","code":"# Change weather to be \"sunny\"\nweather <- \"rainy\"\n\n# Change brolly_needed to be \"FALSE\"\nbrolly_needed <- TRUE\n\n# Change temperature to be 27\ntemperature <- 13\n"}},{"node":{"name":"solution_02_07_01","code":"iris\n\n\n"}},{"node":{"name":"solution_02_07_03","code":"symbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\n\n"}},{"node":{"name":"solution_02_07_02","code":"df <- ToothGrowth\n\n# Have a quick look at the first few observations of df\n\n\n"}},{"node":{"name":"solution_02_07_04","code":"\nsymbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\n\n# Use order() to create positions\npositions <- order(first_ten_elements$atomic_no)\n\n# Use positions to create a sort the first_ten_elements\nsorted_df <- first_ten_elements[positions, ]\n\n"}},{"node":{"name":"solution_02_10_01","code":"\ncountries <- c('US', 'China','Japan', 'Germany','India')\nnominalGDP_trilion_2017 <- c(19.485, 12.238, 4.872, 3.693, 2.651)\npopulation_million_2017 <- c(325, 1421, 127, 82, 1338)\n\n\n# Write a for loop that takes the nominal GDP (in trillion) for each country in 2017 and divided it by the population (in million) in the same year\n# Assign the result to the variable my_result\nmy_result <- c(0,0,0,0,0)\nfor (i in 1:length(countries)) {\n  my_result[i] <- nominalGDP_trilion_2017[i]/population_million_2017[i]\n}\n\n"}},{"node":{"name":"solution_02_11_02","code":"# Write some code to roll a die\n\nroll_a_die <- function(){sample(1:6, size = 1)}\n\n"}},{"node":{"name":"solution_02_11_01","code":"# Create a function power_three()\npower_three <- function(arg){arg*arg*arg}\n# Use the function\npower_three( )\n\n"}},{"node":{"name":"solution_03_01","code":"\ndata(cars)\n\ntotal_dis <- cars %>%\n  mutate(total = dist*speed)\n\nhead(total_dis)\n\n"}},{"node":{"name":"solution_03_02","code":"\ntotal_dis <- cars %>%\n  mutate(total = dist*speed??sped)\n\ntotal_dis %>% head()\n\n"}},{"node":{"name":"solution_04_01","code":"# Let's try read in a dataset \n# Just run this code and view the first six rows for this penguins dataset\n\npenguins <- read.csv(\"data/penguins.csv\")\n\nhead(penguins)\n\n"}},{"node":{"name":"solution_03_03","code":"mean(total_dis$total\n     \n     \n"}},{"node":{"name":"solution_05_01","code":"# Let's try read in a dataset \n# Just run this code and view the first six rows for this penguins dataset\n\npenguins <- read.csv(\"data/penguins.csv\")\n\nhead(penguins)\n\n"}},{"node":{"name":"solution_05_02","code":"library(readr)\n# This is an example for read_csv function from readr package \n# You can put in an inline csv file for the read_csv function like this \n\nread_csv(\"x,y,z,\n         1,2,3,\n         4,5,6\")\n\n"}},{"node":{"name":"solution_05_03","code":"library(readr)\n# This is an example for read_csv function from readr package \n# You can put in an inline csv file for the read_csv function like this \n\nread_csv(\"x,y,z,\n         1,2,3,\n         4,5,6\")\n\n"}},{"node":{"name":"solution_05_03_01","code":"\nnew_iris <- iris %>% \n\n"}},{"node":{"name":"solution_05_04","code":"# Let's try use read_csv to import penguins dataset\n\nlibrary(readr)\n\npenguins_readr <- read_csv(\"data/penguins.csv\")\n\nhead(penguins_readr)\n\n"}},{"node":{"name":"solution_05_05","code":"# Let's try use read_csv to import the Australian Fires dataset from Github\n# The url for this file is 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv'\n\nlibrary(readr)\n\nrainfall<- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv')\n\nhead(rainfall)\n\n"}},{"node":{"name":"solution_06_03_02","code":"\n\n"}},{"node":{"name":"solution_06_03_01","code":"\nnew_iris <- iris %>% \n\n"}},{"node":{"name":"solution_06_05_01","code":"\n"}},{"node":{"name":"solution_06_05_02","code":"\n"}},{"node":{"name":"solution_example","code":"mtcars %>% \n  ggplot(aes(x = factor(cyl), y = mpg)) + \n  geom_boxplot()\n"}},{"node":{"name":"test_02_01","code":"library(testthat)\n\ntest <- function() {\n    if (x != 25) {\n        stop(\"Are you using the correct numbers and symbols? Have you try the hint?\")\n    }\n    if (y != 75) {\n      stop(\"Are you using the correct numbers and symbols? Have you try the hint?\")\n    }\n    # This function is defined in the testTemplate\n    success(\"Well done!\")\n}\n\n"}},{"node":{"name":"test_02_02","code":"library(testthat)\n\ntest <- function() {\n    if (weather != \"sunny\") {\n        stop(\"Have you spelt the string correctly? Have you try the hint?\")\n    }\n    if (brolly_needed != FALSE) {\n      stop(\"Have you spelt the logical value correctly? Note that logical values should be all capital letter (i.e. `TRUE` not `true`).\")\n    }\n    if (temperature != 27) {\n      stop(\"Have you assign the numeric correctly?\")\n    }\n    # This function is defined in the testTemplate\n    success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_06","code":"library(testthat)\n\ntest <- function() {\n    S <- matrix(c(1,0,0,1), byrow=TRUE, nrow=2)\n    T <- matrix(c(2,2,4,3), byrow=TRUE, nrow=2)\n    if (M != rbind(S,T)) {\n        stop(\"This is incorrect. Are you using the function that we have introduced? Try the Hint!\")\n    }\n    if (part_of_M != M[1:3,2]) {\n      stop(\"Have you got the indexing right? Try the Hint!\")\n    }\n    # This function is defined in the testTemplate\n    success(\"Well done! You have mastered the basics of operating on matrices using R.\")\n}\n\n\n"}},{"node":{"name":"test_02_07_01","code":"library(testthat)\ntest <-function(){\n  success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_07_02","code":"library(testthat)\n\ntest <-function(){\n  success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_07_03","code":"library(testthat)\n\ntest <- function() {\n    symbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\n    element <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\n    chemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\n    atomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n    if (first_ten_elements != data.frame(symbol, element, chemical_group, atomic_no)){\n      stop(\"Did you follow the order of columns as stated in the instruction?\" Try again.)\n    }\n    success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_07_04","code":"library(testthat)\n  \ntest <- function() {\n\n    symbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\n    element <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\n    chemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\n    atomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n    first_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\n    if (sorted_df != first_ten_elements[order(first_ten_elements$atomic_no), ]){\n      stop(\"Did you follow the order of columns as stated in the instruction?\" Try again.)\n    }\n    success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_10_01","code":"library(testthat)\n  \ntest <- function() {\n  if (abs(my_result[5] - 0.00198) >= 1e-4){\n    stop(\"Try again.\")\n  }\n  success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_11_01","code":"library(testthat)\n\ntest <- function() {\n    if (power_three(20) != 20^3){\n      stop(\"Did you correctly define the function power_three()? Check the function body. Are you taking the input argument to the power three?\")\n    }\n    success(\"Well done!\")\n}\n\n\n"}},{"node":{"name":"test_02_11_02","code":"library(testthat)\n  \ntest <- function() {\n    if ((class(roll_a_die()) != \"integer\")|(roll_a_die()> 6)|(roll_a_die()<1)) {\n      stop(\"Is your function returning integers from 1 to 6 ? Check the body of the function.\")\n    }\n    success(\"Well done!\")\n}\n\n\n\n"}},{"node":{"name":"test_03_01","code":"library(testthat)\ntest_that(03_01{\nexpect_true(\n  \"magrittr\" %in% loadedNamespaces()\n)\n})\n"}},{"node":{"name":"test_03_02","code":"library(testthat)\ntest_that(03_02{\n???\nlibrary(dplyr)\nexpect_equal(\n  total_dis,\n  cars %>% mutate(total = dist*speed)\n)\n})\n"}},{"node":{"name":"test_04_01","code":"library(testthat)\n"}},{"node":{"name":"test_05_01","code":"library(testthat)\n"}},{"node":{"name":"test_05_02","code":"library(testthat)\n"}},{"node":{"name":"test_05_03","code":"library(testthat)\n"}},{"node":{"name":"test_05_03_01","code":"library(testthat)\n\ntest <- function() {\n    if (nrow(new_iris) != 117) {\n        stop(\"Are you filtering the petal area correctly?\")\n    }\n    success(\"Well done!\")\n}\n\ntest()\n\n"}},{"node":{"name":"test_05_04","code":"library(testthat)\n"}},{"node":{"name":"test_05_05","code":"library(testthat)\n"}},{"node":{"name":"test_06_03_01","code":"library(testthat)\n\ntest <- function() {\n    if (nrow(new_iris) != 117) {\n        stop(\"Are you filtering the petal area correctly?\")\n    }\n    success(\"Well done!\")\n}\n\ntest()\n\n"}},{"node":{"name":"test_06_05_01","code":"library(testthat)\n\n"}},{"node":{"name":"test_06_03_02","code":"library(testthat)\n  \n"}},{"node":{"name":"test_06_05_02","code":"library(testthat)\n\n"}},{"node":{"name":"test_example","code":"library(testthat)\n"}},{"node":{"name":"solution_02_01","code":"# Assign the sum of 1,3,5,7,9 to the variable x\nx <- 1+3+5+7+9\n\n# Assign the product of x and 3 to the variable y\ny <- x*3\n\n"}},{"node":{"name":"exc_example","code":"mtcars %>% \n  ggplot(aes(x = factor(cyl), y = mpg)) + \n  geom______()\n"}},{"node":{"name":"exc_01_03","code":"options(tidyverse.quiet = TRUE)\nlibrary(tidyverse)\n\nmtcars <- mtcars %>%\n  mutate(am = factor(am, levels = 0:1, labels = c(\"Automatic\", \"Manual\")))\n\n\n# Print the gear variable of mtcars\nmtcars$____\n\n# Assign the number of rows in mtcars to `n`\nn <- ____\n\n# Uncomment this to see the plot\n# ggplot(mtcars, aes(am, mpg)) + geom_violin()\n"}},{"node":{"name":"exc_01_04","code":"# Assign the product of 2 and 3 to x\nx <- ____\n\n# draw some plot\nlibrary(ggplot2)\nggplot(cars, aes(speed, dist)) +\n  geom_point()\n"}},{"node":{"name":"exc_02_01","code":"# Assign the sum of 1,3,5,7,9 to the variable x\nx <- ___\n\n# Assign the product of x and 3 to the variable y\ny <- ___\n\n"}},{"node":{"name":"exc_02_02","code":"# Change weather to be \"sunny\"\nweather <- \"rainy\"\n\n# Change brolly_needed to be FALSE\nbrolly_needed <- TRUE\n\n# Change temperature to be 27\ntemperature <- 13\n"}},{"node":{"name":"exc_02_06","code":"S_mat <- matrix(c(1,0,0,1), byrow=TRUE, nrow=2)\nT_mat <- matrix(c(2,2,4,3), byrow=TRUE, nrow=2)\n# Construct a matrix M by stacking S on top of T\nM_mat <- ___\n\n# Select a sub-matrix of M with the data on the rows 1, 2, 3 and columns 2.\npart_of_M <- ___\n\n"}},{"node":{"name":"exc_02_07_01","code":"iris\n\n"}},{"node":{"name":"exc_02_07_02","code":"df <- ToothGrowth\n# Have a quick look at the first few observations of df\n\n\n"}},{"node":{"name":"exc_02_07_03","code":"symbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- ___\nfirst_ten_elements\n\n"}},{"node":{"name":"exc_02_07_04","code":"\nsymbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\n\n# Use order() to create positions\npositions <- ___\npositions\n\n# Use positions to create a sort the first_ten_elements\nsorted_df <- ___\nsorted_df\n\n"}},{"node":{"name":"exc_02_10_01","code":"\ncountries <- c('US', 'China','Japan', 'Germany','India')\nnominalGDP_trilion_2017 <- c(19.485, 12.238, 4.872, 3.693, 2.651)\npopulation_million_2017 <- c(325, 1421, 127, 82, 1338)\n\n\n# Write a for loop that takes the nominal GDP (in trillion) for each country in 2017 and divided it by the population (in million) in the same year\n# Assign the result to the variable my_result\nmy_result <- c(0,0,0,0,0)\nfor (i in 1:length(countries)) {\n  my_result[i] <- ___\n}\nmy_result\n\n"}},{"node":{"name":"exc_02_11_01","code":"# Create a function power_three()\npower_three <- ___\n# Use the function\npower_three(___)\n\n"}},{"node":{"name":"exc_02_11_02","code":"# Write some code to roll a die\n\nroll_a_die <- ___\n\n"}},{"node":{"name":"exc_03_01","code":"\ndata(cars)\n\ntotal_dis <- cars %>%\n  mutate(total = dist*speed)\n\nhead(total_dis)\n\n"}},{"node":{"name":"exc_03_02","code":"\ntotal_dis <- cars %>%\n  mutate(total = dist*sped)\n\ntotal_dis %>% head()\n\n"}},{"node":{"name":"exc_04_01","code":"# Let's try read in a dataset \npenguins <- read.csv(\"data/penguins.csv\")\n\nhead(penguins)\n\n"}},{"node":{"name":"exc_04_03","code":"library(readr)\n# This is an example for read_csv function from readr package \n# You can put in an inline csv file for the read_csv function like this \n\nread_csv(\"x,y,z\n         1,2,3\n         4,5,6\")\n\n"}},{"node":{"name":"exc_04_04","code":"# Let's try use read_csv to import penguins dataset\n\nlibrary(readr)\n\npenguins_readr <- ___(\"data/penguins.csv\")\n\nhead(penguins_readr)\n\n"}},{"node":{"name":"exc_04_05","code":"# Let's try use read_csv to import the Australian Fires dataset from Github\n# The url for this file is 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv'\n\nlibrary(readr)\n\nrainfall <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv')\n\nrainfall\n\n"}},{"node":{"name":"exc_05_03_01","code":"\nnew_iris <- iris %>% \n  ___) %>% \n  ___) %>% \n  ___(Sepal.Length, petal_area)\n\n"}},{"node":{"name":"exc_06_05A","code":"library(ggplot2)\ndata(BudgetFood, package = \"Ecdat\")\n\nggplot(data = ___, \n       mapping = aes(x = ___, \n                     y = ___)) +\n  geom____()\n\n"}},{"node":{"name":"exc_06_05B","code":"ggplot(data = ___, \n       mapping = aes(x = ___, \n                     y = ___)) +\n  geom____()\n\n"}},{"node":{"name":"exc_06_05C","code":"ggplot(data = ___, \n       mapping = aes(x = ___, \n                     y = ___)) +\n  geom____()\n\n"}},{"node":{"name":"exc_06_05D","code":"ggplot(data = ___, \n       mapping = aes(x = ___, \n                     y = ___)) +\n  geom____()\n\n"}},{"node":{"name":"exc_06_05E","code":"ggplot(data = ___, \n       mapping = aes(x = ___)) +\n  geom____(binwidth = 0.001)\n\n"}},{"node":{"name":"exc_06_05F","code":"ggplot(data = ___, \n       mapping = aes(x = ___))  +\n  geom_density(aes(y = ___))\n\n"}},{"node":{"name":"exc_06_06B","code":"suppressPackageStartupMessages({\n  library(ggplot2)\n  library(Ecdat)\n})\n\nggplot(data = _____, \n       mapping = aes(x = _____,\n                     y = _____)) +\n  geom______(_____) +\n  geom______(_____ = 0.1) \n\n"}},{"node":{"name":"exc_06_06C","code":"suppressPackageStartupMessages({\n  library(ggplot2)\n  library(Ecdat)\n})\n\nggplot(data = _____, \n       mapping = aes(x = _____,\n                     y = _____)) +\n  geom______() +\n  geom______(color = \"red\",\n                  method = loess,\n                  formula = y ~ x)\n\n"}},{"node":{"name":"exc_06_06D","code":"suppressPackageStartupMessages({\n  library(ggplot2)\n  library(Ecdat)\n})\n\nggplot(data = _____, \n       mapping = aes(x = _____)) +\n  geom______() +\n  geom______(aes(label = _____),\n                 vjust = -0.3,\n                 stat = _____)\n\n"}},{"node":{"name":"exc_06_06E","code":"suppressPackageStartupMessages({\n  library(tidyverse)\n  library(Ecdat)\n})\n\ndat <- BudgetFood %>% \n  filter(!is.na(sex)) %>% \n  group_by(town, sex) %>% \n  summarise(totexp = mean(totexp))\n\n_____ +\n  geom______(data = subset(dat, sex==\"woman\"),\n               aes(x = _____,\n                   y = _____,\n                  _____)) +\n  geom______(data = subset(dat, sex==\"man\"),\n               aes(x = _____,\n                   y = _____,\n                  _____))\n\n"}},{"node":{"name":"exc_06_07A","code":"ggplot(data = ___, \n       mapping = aes(x = ___)) +\n  geom____(aes(y = after_stat(density))) +\n  geom____(color = \"red\")\n\n"}},{"node":{"name":"exc_06_07B","code":"library(tidyverse)\nBudgetFood %>%\n  ___(___) %>%\n  ggplot(\n    mapping = aes(x = ___, y = ___)\n  ) +\n  geom____(___) +\n  geom____(___ = 0.1) \n\n"}},{"node":{"name":"exc_06_07C","code":"BudgetFood %>%\n  filter(___) %>%\n  ggplot(\n    mapping = aes(x = ___, y = ___)\n  ) +\n  geom____() +\n  geom____(color = \"red\",\n                  method = loess,\n                  formula = y ~ x)\n\n"}},{"node":{"name":"exc_06_07D","code":"BudgetFood %>% \n  filter(___) %>% \n  ggplot(mapping = aes(x = ___)) +\n  geom____() +\n  geom____(\n    aes(label = ___),\n    vjust = -0.3,\n    stat = ___\n  )\n\n"}},{"node":{"name":"exc_06_07E","code":"library(tidyverse)\ndat <- BudgetFood %>% \n  filter(!is.na(sex)) %>% \n  group_by(town, sex) %>% \n  summarise(totexp = mean(totexp))\n\n___ +\n  geom____(data = filter(dat, sex==\"woman\"),\n               aes(x = ___,\n                   y = ___,\n                  ___)) +\n  geom____(data = subset(dat, sex==\"man\"),\n               aes(x = ___,\n                   y = ___,\n                  ___))\n\n"}},{"node":{"name":"exc_06_09A","code":"ggplot(data = subset(BudgetFood, !is.na(sex)), \n       mapping = aes(x = sex,\n                     y = age)) +\n  geom_violin(aes(fill = sex)) + \n  ____manual(values = c(\"violet\", \"royalblue\"))\n  \n\n"}},{"node":{"name":"exc_06_09B","code":"ggplot(data = subset(BudgetFood, !is.na(sex)), \n       mapping = aes(x = totexp,\n                     fill = sex)) +\n  geom_histogram(bins = 40,\n                 aes(color = sex)) + \n  ____log10() +\n  ____discrete() +\n  ____brewer(palette = 10)\n  \n\n"}},{"node":{"name":"exc_06_11A","code":"ggplot(BudgetFood, aes(x = ___)) + \n  geom_histogram(data = ___,\n                 fill = \"grey\", binwidth = 1,\n                 aes(y = after_stat(density))) +\n  geom_histogram(aes(y = after_stat(density)),\n                 binwidth = 1) +\n  geom_density(color = \"red\") +\n  facet____\n  \n"}},{"node":{"name":"exc_06_11B","code":"ggplot(subset(BudgetFood, !is.na(sex)), aes(age)) +\n  geom_histogram(aes(y = ___)) +\n  geom_text(x = 35, y = 0.035, \n            data = function(.data) .data %>% \n              group_by(sex, town) %>% \n              count(),\n            aes(label = n)) +\n  facet____\n\n"}},{"node":{"name":"exc_06_11C","code":"library(tidyverse)\nlibrary(___)\n\n\ng1 <- ggplot(BudgetFood, \n             aes(factor(size), wfood, color = sex)) +\n  geom_boxplot() \n\ng2 <- ggplot(BudgetFood, \n             aes(factor(size), totexp, color = sex)) +\n  geom_boxplot() + \n  scale_y_log10()\n\n# combine the plot as one figure \n___ + plot_layout(guides = \"collect\")\n\n"}},{"node":{"name":"exc_06_13A","code":"ggplot(BudgetFood, aes(x = age)) + \n  geom_histogram(aes(y = after_stat(density)),\n                 binwidth = 1) +\n  geom_density(color = \"red\") +\n  facet_wrap(~town, labeller = label_both) +\n  labs(x = \"Age\", y = \"Density\", title = \"Age distribution by town size\") +\n  theme(text = ___(size = 14, family = \"mono\"),\n        plot.background = ___(fill = \"grey80\"),\n        ___ = element_rect(fill = \"black\"),\n        ___ = element_text(color = \"white\"),\n        panel.background = ___(fill = \"white\",\n                                        color = \"black\"),\n        panel.grid = element_blank())\n\n"}},{"node":{"name":"exc_07_02A","code":"data(Cigarette, package = \"Ecdat\")\n\nfit <- lm(___, data = Cigarette)\n  \nRSS <- ___\nbeta0 <- ___\nbeta1 <- ___\n\n"}},{"node":{"name":"exc_07_04A","code":"data(Cigarette, package = \"Ecdat\")\n\nfit <- lm(_____, data = Cigarette)\n  \nRSS <- _____\nbeta0 <- _____\nbeta1 <- _____\n\n"}},{"node":{"name":"exc_07_06A","code":"data(Cigarette, package = \"Ecdat\")\n\nfit <- lm(___, data = Cigarette)\n  \nbetas <- ___\nbetas\n\n"}},{"node":{"name":"solution_01_03","code":"options(tidyverse.quiet = TRUE)\nlibrary(tidyverse)\n\nmtcars <- mtcars %>%\n  mutate(am = factor(am, levels = 0:1, labels = c(\"Automatic\", \"Manual\")))\n\n\n# Print the gear variable of mtcars\nmtcars$gear\n\n# Assign the number of rows in mtcars to `n`\nn <- nrow(mtcars)\n\n# Uncomment this to see the plot\n# ggplot(mtcars, aes(am, mpg)) + geom_violin()\n"}},{"node":{"name":"solution_01_04","code":"# Assign the product of 2 and 3 to x\nx <- 2 * 3\n\n"}},{"node":{"name":"solution_02_01","code":"# Assign the sum of 1,3,5,7,9 to the variable x\nx <- 1+3+5+7+9\n\n# Assign the product of x and 3 to the variable y\ny <- x*3\n\n"}},{"node":{"name":"solution_02_02","code":"# Change weather to be \"sunny\"\nweather <- \"sunny\"\n\n# Change brolly_needed to be FALSE\nbrolly_needed <- FALSE\n\n# Change temperature to be 27\ntemperature <- 27\n"}},{"node":{"name":"solution_02_06","code":"S_mat <- matrix(c(1,0,0,1), byrow=TRUE, nrow=2)\nT_mat <- matrix(c(2,2,4,3), byrow=TRUE, nrow=2)\n# Construct a matrix M by stacking S on top of T\nM_mat <- rbind(S_mat,T_mat)\n\n# Select a sub-matrix of M with the data on the rows 1, 2, 3 and columns 2.\npart_of_M <- M_mat[1:3,2]\n\n"}},{"node":{"name":"solution_02_07_01","code":"iris\n\n"}},{"node":{"name":"solution_02_07_02","code":"df <- ToothGrowth\n# Have a quick look at the first few observations of df\nhead(df)\n\n"}},{"node":{"name":"solution_02_07_03","code":"symbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\nfirst_ten_elements\n\n"}},{"node":{"name":"solution_02_07_04","code":"\nsymbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\n\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\n\n# Use order() to create positions\npositions <- order(first_ten_elements$atomic_no)\npositions\n\n# Use positions to create a sort the first_ten_elements\nsorted_df <- first_ten_elements[positions, ]\nsorted_df\n\n"}},{"node":{"name":"solution_02_10_01","code":"\ncountries <- c('US', 'China','Japan', 'Germany','India')\nnominalGDP_trilion_2017 <- c(19.485, 12.238, 4.872, 3.693, 2.651)\npopulation_million_2017 <- c(325, 1421, 127, 82, 1338)\n\n\n# Write a for loop that takes the nominal GDP (in trillion) for each country in 2017 and divided it by the population (in million) in the same year\n# Assign the result to the variable my_result\nmy_result <- c(0,0,0,0,0)\nfor (i in 1:length(countries)) {\n  my_result[i] <- nominalGDP_trilion_2017[i]/population_million_2017[i]\n}\nmy_result\n\n"}},{"node":{"name":"solution_02_11_01","code":"# Create a function power_three()\npower_three <- function(x){x^3}\n# Use the function\npower_three(3)\n\n"}},{"node":{"name":"solution_02_11_02","code":"# Write some code to roll a die\n\nroll_a_die <- function(){sample(1:6, size = 1)}\n\n"}},{"node":{"name":"solution_03_01","code":"library(dplyr)\ndata(cars)\n\ntotal_dis <- cars %>%\n  mutate(total = dist*speed)\n\nhead(total_dis)\n\n"}},{"node":{"name":"solution_03_02","code":"\ntotal_dis <- cars %>%\n  mutate(total = dist*speed)\n\ntotal_dis %>% head()\n\n"}},{"node":{"name":"solution_04_01","code":"# Let's try read in a dataset \npenguins <- read.csv(\"data/penguins.csv\")\n\nhead(penguins)\n\n"}},{"node":{"name":"solution_04_03","code":"library(readr)\n# This is an example for read_csv function from readr package \n# You can put in an inline csv file for the read_csv function like this \n\nread_csv(\"x,y,z\n         1,2,3\n         4,5,6\")\n\n"}},{"node":{"name":"solution_04_04","code":"# Let's try use read_csv to import penguins dataset\n\nlibrary(readr)\n\npenguins_readr <- read_csv(\"data/penguins.csv\")\n\nhead(penguins_readr)\n\n"}},{"node":{"name":"solution_04_05","code":"# Let's try use read_csv to import the Australian Fires dataset from Github\n# The url for this file is 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv'\n\nlibrary(readr)\n\nrainfall <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv')\n\nrainfall\n\n"}},{"node":{"name":"solution_05_03_01","code":"\nnew_iris <- iris %>% \n  mutate>}(petal_area = {<Petal.Length * Petal.Width) %>% \n  filter>}({<petal_area > 5) %>% \n  select(Sepal.Length, petal_area)\n\n"}},{"node":{"name":"solution_06_05A","code":"library(ggplot2)\ndata(BudgetFood, package = \"Ecdat\")\n\nggplot(data = BudgetFood, \n       mapping = aes(x = size, \n                     y = totexp)) +\n  geom_point()\n\n"}},{"node":{"name":"solution_06_05B","code":"ggplot(data = BudgetFood, \n       mapping = aes(x = size, \n                     y = totexp)) +\n  geom_hex()\n\n"}},{"node":{"name":"solution_06_05C","code":"ggplot(data = BudgetFood, \n       mapping = aes(x = sex, \n                     y = age)) +\n  geom_boxplot()\n\n"}},{"node":{"name":"solution_06_05D","code":"ggplot(data = BudgetFood, \n       mapping = aes(x = factor(town), \n                     y = totexp)) +\n  geom_violin()\n\n"}},{"node":{"name":"solution_06_05E","code":"ggplot(data = BudgetFood, \n       mapping = aes(x = wfood)) +\n  geom_histogram(binwidth = 0.001)\n\n"}},{"node":{"name":"solution_06_05F","code":"ggplot(data = BudgetFood, \n       mapping = aes(x = wfood))  +\n  geom_density(aes(y = after_stat(count)))\n\n"}},{"node":{"name":"solution_06_06B","code":"suppressPackageStartupMessages({\n  library(ggplot2)\n  library(Ecdat)\n})\n\nggplot(data = subset(BudgetFood, !is.na(sex)), \n       mapping = aes(x = sex,\n                     y = age)) +\n  geom_violin(aes(fill = sex)) +\n  geom_boxplot(width = 0.1) \n\n"}},{"node":{"name":"solution_06_06C","code":"suppressPackageStartupMessages({\n  library(ggplot2)\n  library(Ecdat)\n})\n\nggplot(data = subset(BudgetFood, size < 30), \n       mapping = aes(x = size,\n                     y = totexp)) +\n  geom_point() +\n  geom_smooth(color = \"red\",\n                  method = loess,\n                  formula = y ~ x)\n\n"}},{"node":{"name":"solution_06_06D","code":"suppressPackageStartupMessages({\n  library(ggplot2)\n  library(Ecdat)\n})\n\nggplot(data = subset(BudgetFood, !is.na(sex)), \n       mapping = aes(x = sex)) +\n  geom_bar() +\n  geom_text(aes(label = after_stat(count)),\n                 vjust = -0.3,\n                 stat = \"count\")\n\n"}},{"node":{"name":"solution_06_06E","code":"suppressPackageStartupMessages({\n  library(tidyverse)\n  library(Ecdat)\n})\n\ndat <- BudgetFood %>% \n  filter(!is.na(sex)) %>% \n  group_by(town, sex) %>% \n  summarise(totexp = mean(totexp))\n\nggplot() +\n  geom_col(data = subset(dat, sex==\"woman\"),\n               aes(x = factor(town),\n                   y = totexp,\n                  fill = \"woman\")) +\n  geom_col(data = subset(dat, sex==\"man\"),\n               aes(x = factor(town),\n                   y = -totexp,\n                  fill = \"man\"))\n\n"}},{"node":{"name":"solution_06_07A","code":"ggplot(data = BudgetFood, \n       mapping = aes(x = totexp)) +\n  geom_histogram(aes(y = after_stat(density))) +\n  geom_density(color = \"red\")\n\n"}},{"node":{"name":"solution_06_07B","code":"library(tidyverse)\nBudgetFood %>%\n  filter(!is.na(sex)) %>%\n  ggplot(\n    mapping = aes(x = sex, y = age)\n  ) +\n  geom_violin(aes(fill = sex)) +\n  geom_boxplot(width = 0.1) \n\n"}},{"node":{"name":"solution_06_07C","code":"BudgetFood %>%\n  filter(size < 30) %>%\n  ggplot(\n    mapping = aes(x = size, y = totexp)\n  ) +\n  geom_point() +\n  geom_smooth(color = \"red\",\n                  method = loess,\n                  formula = y ~ x)\n\n"}},{"node":{"name":"solution_06_07D","code":"BudgetFood %>% \n  filter(!is.na(sex)) %>% \n  ggplot(mapping = aes(x = sex)) +\n  geom_bar() +\n  geom_text(\n    aes(label = after_stat(count)),\n    vjust = -0.3,\n    stat = \"count\"\n  )\n\n"}},{"node":{"name":"solution_06_07E","code":"library(tidyverse)\ndat <- BudgetFood %>% \n  filter(!is.na(sex)) %>% \n  group_by(town, sex) %>% \n  summarise(totexp = mean(totexp))\n\nggplot() +\n  geom_col(data = filter(dat, sex==\"woman\"),\n               aes(x = factor(town),\n                   y = totexp,\n                  fill = \"woman\")) +\n  geom_col(data = subset(dat, sex==\"man\"),\n               aes(x = factor(town),\n                   y = -totexp,\n                  fill = \"man\"))\n\n"}},{"node":{"name":"solution_06_09A","code":"ggplot(data = subset(BudgetFood, !is.na(sex)), \n       mapping = aes(x = sex,\n                     y = age)) +\n  geom_violin(aes(fill = sex)) + \n  scale_fill_manual(values = c(\"violet\", \"royalblue\"))\n  \n\n"}},{"node":{"name":"solution_06_09B","code":"ggplot(data = subset(BudgetFood, !is.na(sex)), \n       mapping = aes(x = totexp,\n                     fill = sex)) +\n  geom_histogram(bins = 40,\n                 aes(color = sex)) + \n  scale_x_log10() +\n  scale_color_discrete() +\n  scale_fill_brewer(palette = 10)\n  \n\n"}},{"node":{"name":"solution_06_11A","code":"ggplot(BudgetFood, aes(x = age)) + \n  geom_histogram(data = select(BudgetFood, -town),\n                 fill = \"grey\", binwidth = 1,\n                 aes(y = after_stat(density))) +\n  geom_histogram(aes(y = after_stat(density)),\n                 binwidth = 1) +\n  geom_density(color = \"red\") +\n  facet_wrap(~town)\n  \n"}},{"node":{"name":"solution_06_11B","code":"ggplot(subset(BudgetFood, !is.na(sex)), aes(age)) +\n  geom_histogram(aes(y = after_stat(density))) +\n  geom_text(x = 35, y = 0.035, \n            data = function(.data) .data %>% \n              group_by(sex, town) %>% \n              count(),\n            aes(label = n)) +\n  facet_grid(sex ~ town)\n\n"}},{"node":{"name":"solution_06_11C","code":"library(tidyverse)\nlibrary(patchwork)\n\n\ng1 <- ggplot(BudgetFood, \n             aes(factor(size), wfood, color = sex)) +\n  geom_boxplot() \n\ng2 <- ggplot(BudgetFood, \n             aes(factor(size), totexp, color = sex)) +\n  geom_boxplot() + \n  scale_y_log10()\n\n# combine the plot as one figure \ng1 / g2 + plot_layout(guides = \"collect\")\n\n"}},{"node":{"name":"solution_06_13A","code":"ggplot(BudgetFood, aes(x = age)) + \n  geom_histogram(aes(y = after_stat(density)),\n                 binwidth = 1) +\n  geom_density(color = \"red\") +\n  facet_wrap(~town, labeller = label_both) +\n  labs(x = \"Age\", y = \"Density\", title = \"Age distribution by town size\") +\n  theme(text = element_text(size = 14, family = \"mono\"),\n        plot.background = element_rect(fill = \"grey80\"),\n        strip.background = element_rect(fill = \"black\"),\n        strip.text = element_text(color = \"white\"),\n        panel.background = element_rect(fill = \"white\",\n                                        color = \"black\"),\n        panel.grid = element_blank())\n\n"}},{"node":{"name":"solution_07_02A","code":"data(Cigarette, package = \"Ecdat\")\n\nfit <- lm(avgprs ~ taxs, data = Cigarette)\n  \nRSS <- sum(residuals(fit)^2)\nbeta0 <- coef(fit)[1]\nbeta1 <- coef(fit)[2]\n\n"}},{"node":{"name":"solution_07_04A","code":"data(Cigarette, package = \"Ecdat\")\n\nfit <- lm(avgprs ~ taxs + cpi, data = Cigarette)\n  \nRSS <- sum(residuals(fit)^2)\nbeta0 <- coef(fit)[1]\nbeta1 <- coef(fit)[2]\n\n"}},{"node":{"name":"solution_07_06A","code":"data(Cigarette, package = \"Ecdat\")\n\nfit <- lm(avgprs ~ -1 + state, data = Cigarette)\n  \nbetas <- coef(fit)\nbetas\n\n"}},{"node":{"name":"test_01_03","code":"test <- function() {\n    # Here we can either check objects created in the solution code, or the\n    # string value of the solution, available as .solution. See the testTemplate\n    # in the meta.json for details.\n    if (n != nrow(mtcars)) {\n        stop(\"Are you getting the correct length?\")\n    }\n    if (!grepl(\"mtcars$gear\", .solution, fixed = TRUE)) {\n        stop(\"Are you printing the correct variable?\")\n    }\n\n    # This function is defined in the testTemplate\n    success(\"Well done!\")\n}\n"}},{"node":{"name":"test_01_04","code":"test <- function() {\n    # Here we can either check objects created in the solution code, or the\n    # string value of the solution, available as .solution. See the testTemplate\n    # in the meta.json for details.\n    if (x != 6) {\n        stop(\"Are you using the correct numbers and symbols?\")\n    }\n\n    # This function is defined in the testTemplate\n    success(\"Well done!\")\n}\n"}},{"node":{"name":"test_02_01","code":"\nexpect_equal(x, 25, info = \"Are you using the correct numbers and symbols? Have you try the hint?\")\nexpect_equal(y, 75, info = \"Are you using the correct numbers and symbols? Have you try the hint?\")\n\n"}},{"node":{"name":"test_02_02","code":"\nexpect_equal(weather, \"sunny\", info = \"Have you spelt the string correctly? Have you try the hint?\")\nexpect_false(brolly_needed, info = \"Have you spelt the logical value correctly? Note that logical values should be all capital letter (i.e. `TRUE` not `true`).\")\nexpect_equal(temperature, 27, info = \"Have you assign the numeric correctly?\")\n"}},{"node":{"name":"test_02_06","code":"\nS_mat <- matrix(c(1,0,0,1), byrow=TRUE, nrow=2)\nT_mat <- matrix(c(2,2,4,3), byrow=TRUE, nrow=2)\nM_sol <- rbind(S_mat,T_mat)\nexpect_equal(\n  M_mat,\n  M_sol,\n  info = \"The `M` object does not contain the matrix we expected. Are you using the function that we have introduced? Try the Hint!\"\n)\npart_of_M_sol <- M_sol[1:3,2]\nexpect_equal(\n  part_of_M,\n  part_of_M_sol,\n  info = \"Have you got the indexing right? Try the Hint!\"\n)\n\n"}},{"node":{"name":"test_02_07_01","code":"  \nexpect_true(TRUE)\n\n\n"}},{"node":{"name":"test_02_07_02","code":"\nexpect_match(.solution, \"head\", info = \"Use the head() function to preview the first few rows of the data.\")\n\n"}},{"node":{"name":"test_02_07_03","code":"\nsymbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\nsolution <- data.frame(symbol, element, chemical_group, atomic_no)\nexpect_equal(first_ten_elements, solution, info = \"Did you follow the order of columns as stated in the instruction?\")\n"}},{"node":{"name":"test_02_07_04","code":"  \nsymbol <- c('N','O','H','He','B','C','F','Ne','Li','Be')\nelement <- c('Nitrogen','Oxygen','Hydrogen','Helium','Boron','Carbon','Fluorine','Neon','Lithium','Beryllium')\nchemical_group <- c('Nonmetal','Nonmetal','Nonmetal','Noble Gas','Metalloid','Nonmetal','Halogen','Noble Gas','Alkali Metal','Alkaline Earth Metal')\natomic_no <- c(7,8,1,2,5,6,9,10,3,4)\nfirst_ten_elements <- data.frame(symbol, element, chemical_group, atomic_no)\nsolution <- first_ten_elements[order(first_ten_elements$atomic_no), ]\nexpect_equal(sorted_df, solution, info = \"Did you follow the order of columns as stated in the instruction?\")\n\n"}},{"node":{"name":"test_02_10_01","code":"  \nsolution <- c(0.0599538461538461, 0.00861224489795918, 0.0383622047244094, \n0.0450365853658537, 0.0019813153961136)\nexpect_equal(my_result, solution, tolerance = 0.01)\n\n"}},{"node":{"name":"test_02_11_01","code":"\nexpect_equal(power_three(20), 20^3, info = \"Did you correctly define the function power_three()? Check the function body. Are you taking the input argument to the power three?\")\n\n\n"}},{"node":{"name":"test_02_11_02","code":"\nexpect_true(inherits(roll_a_die(), \"integer\"), info = \"Your function should return an integer\")\nrolls <- vapply(seq_len(1000), function(x) roll_a_die(), integer(1L))\nexpect_true(min(rolls) >= 1L, info = \"Your function returns dice numbers less than 1.\")\nexpect_true(max(rolls) <= 6L, info = \"Your function returns dice numbers more than 6.\")\n\n"}},{"node":{"name":"test_03_01","code":"expect_true(\n  \"magrittr\" %in% loadedNamespaces(),\n  info = \"You haven't loaded a package which allows you to use the pipe (%>%).\"\n)\nexpect_true(\n  \"dplyr\" %in% loadedNamespaces(),\n  info = \"You haven't loaded a package which allows you to use the mutate() function.\"\n)\n"}},{"node":{"name":"test_03_02","code":"library(dplyr)\nanswer <- cars %>% mutate(total = dist*speed)\nexpect_match(.solution, \"library\", info = \"You should load the required packages in using the library() function.\")\nexpect_equal(\n  total_dis,\n  answer,\n  info = \"The resulting `total_dis` dataset doesn't match what we wanted.\"\n)\n"}},{"node":{"name":"test_04_01","code":"  \nsolution <- read.csv(\"data/penguins.csv\")\nexpect_equal(penguins, solution, info = \"Have you read in the correct file using read.csv()?\")\n\n"}},{"node":{"name":"test_04_03","code":"  \nexpect_true(TRUE)\n"}},{"node":{"name":"test_04_04","code":"\nsolution <- read_csv(\"data/penguins.csv\")\nexpect_identical(penguins_readr, solution, info = \"Have you used the correct function to read in the data?\")\n\n"}},{"node":{"name":"test_04_05","code":"  \nexpect_true(nrow(rainfall) > 100000, info = \"Have you read in the correct dataset?\")\n\n"}},{"node":{"name":"test_05_03_01","code":"\nexpect_true(\"petal_area\" %in% names(new_iris), info = \"The petal_area column is missing from your dataset\")\nexpect_equal(nrow(new_iris), 117, info = \"The resulting dataset should have 117 rows, something isn't right with your filter() arguments.\")\n"}},{"node":{"name":"test_06_05A","code":"\nplot <- last_plot()\nplot_has_point <- any(vapply(plot$layers, function(x) inherits(x$geom, \"GeomPoint\"), logical(1L)))\nexpect_true(\n  plot_has_point, info = \"Your plot is missing the appropriate geom for a scatter plot.\"\n)\nplot_mapping <- aes(x = size, y = totexp)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x and/or y axis are incorrect.\"\n)\n"}},{"node":{"name":"test_06_05B","code":"\nplot <- last_plot()\nplot_has_hex <- any(vapply(plot$layers, function(x) inherits(x$geom, \"GeomHex\"), logical(1L)))\nexpect_true(\n  plot_has_hex, info = \"Your plot is missing the appropriate geom for a hex plot.\"\n)\nplot_mapping <- aes(x = size, y = totexp)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x and/or y axis are incorrect.\"\n)  \n"}},{"node":{"name":"test_06_05C","code":"\nplot <- last_plot()\nplot_has_boxplot <- any(vapply(plot$layers, function(x) inherits(x$geom, \"GeomBoxplot\"), logical(1L)))\nexpect_true(\n  plot_has_boxplot, info = \"Your plot is missing the appropriate geom for a boxplot.\"\n)\nplot_mapping <- aes(x = sex, y = age)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x and/or y axis are incorrect.\"\n)  \n"}},{"node":{"name":"test_06_05D","code":"  \nplot <- last_plot()\nplot_has_violin <- any(vapply(plot$layers, function(x) inherits(x$geom, \"GeomViolin\"), logical(1L)))\nexpect_true(\n  plot_has_violin, info = \"Your plot is missing the appropriate geom for a violin plot.\"\n)\nplot_mapping <- aes(x = factor(town), y = totexp)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x and/or y axis are incorrect.\"\n)\n"}},{"node":{"name":"test_06_05E","code":"  \nplot <- last_plot()\nplot_has_hist <- any(vapply(plot$layers, function(x) inherits(x$geom, \"GeomBar\"), logical(1L)))\nexpect_true(\n  plot_has_hist, info = \"Your plot is missing the appropriate geom for a scatter plot.\"\n)\nplot_mapping <- aes(x = wfood)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x axis are incorrect.\"\n)\n"}},{"node":{"name":"test_06_05F","code":"plot <- last_plot()\nplot_has_density <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomDensity\"), logical(1L))\nexpect_true(\n  any(plot_has_density), info = \"Your plot is missing the appropriate geom for a density plot.\"\n)\nplot_mapping <- aes(x = wfood)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x axis is incorrect.\"\n)\ndensity_mapping <- plot$layers[[which(plot_has_density)[1]]]$mapping\ngeom_mapping <- aes(y = after_stat(count))\nexpect_equal(\n  density_mapping, geom_mapping, info = \"The variable on your y axis is incorrect. Have you tried using the after_stat() function to show the computed count variable?\"\n)\n"}},{"node":{"name":"test_06_06B","code":"library(testthat)\n  \ntest <- function() { \n  success(\"Check with the above target plot if the output matches!\") \n}\n"}},{"node":{"name":"test_06_06C","code":"library(testthat)\n  \ntest <- function() { \n  success(\"Check with the above target plot if the output matches!\") \n}\n"}},{"node":{"name":"test_06_06D","code":"library(testthat)\n  \ntest <- function() { \n  success(\"Check with the above target plot if the output matches!\") \n}\n"}},{"node":{"name":"test_06_06E","code":"library(testthat)\n  \ntest <- function() { \n  success(\"Check with the above target plot if the output matches!\") \n}\n"}},{"node":{"name":"test_06_07A","code":"  \nplot <- last_plot()\nplot_has_density <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomDensity\"), logical(1L))\nexpect_true(\n  any(plot_has_density), info = \"Your plot is missing the appropriate geom for a density plot.\"\n)\nplot_has_hist <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomBar\"), logical(1L))\nexpect_true(\n  any(plot_has_hist), info = \"Your plot is missing the appropriate geom for a histogram plot.\"\n)\nplot_mapping <- aes(x = totexp)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x axis is incorrect.\"\n)\nhist_mapping <- plot$layers[[which(plot_has_hist)[1]]]$mapping\ngeom_mapping <- aes(y = after_stat(density))\nexpect_equal(\n  hist_mapping, geom_mapping, info = \"The variable on your y axis is incorrect. Have you tried using the after_stat() function to show the computed density variable for the histogram?\"\n)\n\ndensity_aes <- plot$layers[[which(plot_has_density)[[1]]]]$aes_params\ndensity_colour <- rlang::`%||%`(density_aes$color, density_aes$colour)\nexpect_equal(\n  density_colour, \"red\", info = \"The colour of the density line geometry is not red.\"\n)\n"}},{"node":{"name":"test_06_07B","code":"\nplot <- last_plot()\n\nsolution_data <- dplyr::filter(BudgetFood, !is.na(sex))\nexpect_equal(plot$data, solution_data, info = \"The data has not been correctly filtered to look at only data where `sex` is 'man' or 'woman'.\")\n\nplot_has_violin <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomViolin\"), logical(1L))\nexpect_true(\n  any(plot_has_violin), info = \"Your plot is missing the appropriate geom for a violin plot.\"\n)\nplot_has_boxplot <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomBoxplot\"), logical(1L))\nexpect_true(\n  any(plot_has_boxplot), info = \"Your plot is missing the appropriate geom for a boxplot.\"\n)\nplot_mapping <- aes(x = sex, y = age)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x and/or y axis is incorrect.\"\n)\nviolin_mapping <- plot$layers[[which(plot_has_violin)[1]]]$mapping\ngeom_mapping <- aes(fill = sex)\nexpect_equal(\n  violin_mapping, geom_mapping, info = \"The variable used to fill the violins is incorrect.\"\n)\n\nboxplot_width <- plot$layers[[which(plot_has_boxplot)[[1]]]]$geom_params$width\nexpect_equal(\n  boxplot_width, 0.1, info = \"The boxplot width has not been correctly specified.\"\n)\n"}},{"node":{"name":"test_06_07C","code":"  \nplot <- last_plot()\n\nsolution_data <- dplyr::filter(BudgetFood, size < 30)\nexpect_equal(plot$data, solution_data, info = \"The data has not been correctly filtered to look at only data size is less than 30.\")\n\nplot_has_point <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomPoint\"), logical(1L))\nexpect_true(\n  any(plot_has_point), info = \"Your plot is missing the appropriate geom for a scatter plot.\"\n)\nplot_has_smooth <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomSmooth\"), logical(1L))\nexpect_true(\n  any(plot_has_smooth), info = \"Your plot is missing the appropriate geom for a smooth fitted model through the data.\"\n)\nplot_mapping <- aes(x = size, y = totexp)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variables on your x and/or y axis is incorrect.\"\n)\n\nsmooth_aes <- plot$layers[[which(plot_has_smooth)[[1]]]]$aes_params\nsmooth_colour <- rlang::`%||%`(smooth_aes$color, smooth_aes$colour)\nexpect_equal(\n  smooth_colour, \"red\", info = \"The colour of the smooth line geometry is not red.\"\n)\n"}},{"node":{"name":"test_06_07D","code":"  \nplot <- last_plot()\n\nsolution_data <- dplyr::filter(BudgetFood, !is.na(sex))\nexpect_equal(plot$data[colnames(solution_data)], solution_data, info = \"The data has not been correctly filtered to look at only data where `sex` is 'man' or 'woman'.\")\n\nplot_has_bar <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomBar\"), logical(1L))\nexpect_true(\n  any(plot_has_bar), info = \"Your plot is missing the appropriate geom for a bar plot.\"\n)\nplot_has_text <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomText\"), logical(1L))\nexpect_true(\n  any(plot_has_text), info = \"Your plot is missing the appropriate geom for a text shown above the bars.\"\n)\nplot_mapping <- aes(x = sex)\nexpect_equal(\n  plot$mapping, plot_mapping, info = \"The variable on your x axis is incorrect.\"\n)\n\ntext_aes <- plot$layers[[which(plot_has_text)[[1]]]]$mapping\ntext_aes_solution <- aes(label = after_stat(count))\nexpect_equal(\n  text_aes, text_aes_solution, info = \"The aesthetics for your text labels are incorrect. Hint: this can be computed with after_stat().\"\n)\n\nhas_text_stat <- inherits(plot$layers[[which(plot_has_text)[[1]]]]$stat, \"StatCount\")\nexpect_true(\n  has_text_stat, info = \"Your text geometry is missng the stat used to compute the appropriate position on the y-axis.\"\n)\n"}},{"node":{"name":"test_06_07E","code":"  \nplot <- last_plot()\n\nplot_has_cols <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomCol\"), logical(1L))\nexpect_true(\n  all(plot_has_cols), info = \"Your is using the incorrect geometry type.\"\n)\n\ncol_aes <- plot$layers[[which(plot_has_cols)[[1]]]]$mapping\ncol_aes_solution <- aes(x = factor(town), y = totexp, fill = \"woman\")\nexpect_equal(\n  col_aes, col_aes_solution, info = \"The aesthetics for your geometry plotting `sex==\\\"woman\\\"` is incorrect. Have you set the fill aethetic correctly?\"\n)\ncol_aes <- plot$layers[[which(plot_has_cols)[[2]]]]$mapping\ncol_aes_solution <- aes(x = factor(town), y = -totexp, fill = \"man\")\nexpect_equal(\n  col_aes, col_aes_solution, info = \"The aesthetics for your geometry plotting `sex==\\\"man\\\"` is incorrect. Have you set the fill aethetic correctly?\"\n)\n"}},{"node":{"name":"test_06_09A","code":"  \nplot <- last_plot()\nplot_scale <- vapply(plot$scales$scales, function(x) x$aesthetics == \"fill\", logical(1L))\nexpect_true(plot_scale, info = \"The scale function has been incorrectly specified.\")\n"}},{"node":{"name":"test_06_09B","code":"\nplot <- last_plot()\nlog10_scale <- vapply(plot$scales$scales, function(x) \"x\" %in% x$aesthetics, logical(1L))\ndiscrete_scale <- vapply(plot$scales$scales, function(x) any(c(\"color\", \"colour\") %in% x$aesthetics), logical(1L))\nbrewer_scale <- vapply(plot$scales$scales, function(x) \"fill\" %in% x$aesthetics, logical(1L))\nlog10_answer <- which(log10_scale) == 1L\ndiscrete_answer <- which(discrete_scale) == 2L\nbrewer_answer <- which(brewer_scale) == 3L\nexpect_true(log10_answer, info = \"The answer for the *_log10() scale is incorrect.\")\nexpect_true(discrete_answer, info = \"The answer for the *_discrete() scale is incorrect.\")\nexpect_true(brewer_answer, info = \"The answer for the *_brewer() scale is incorrect.\")\n"}},{"node":{"name":"test_06_11A","code":"  \n  \nplot <- last_plot()\nanswer_mapping <- aes(x = age)\nexpect_equal(plot$mapping, answer_mapping, info = \"The plot's mapping variables are incorrect.\")\nfacet_type <- inherits(plot$facet, \"FacetWrap\")\nexpect_true(facet_type, info = \"The facet type is incorrect.\")\nfacet_vars <- identical(names(plot$facet$params$facets), \"town\")\nexpect_true(facet_type, info = \"The variable facetting the plot is incorrect.\")\n"}},{"node":{"name":"test_06_11B","code":"\nplot <- last_plot()\nanswer_mapping <- aes(x = age)\nexpect_equal(plot$mapping, answer_mapping, info = \"The plot's mapping variables are incorrect.\")\nfacet_type <- inherits(plot$facet, \"FacetGrid\")\nexpect_true(facet_type, info = \"The facet type is incorrect.\")\nfacet_rows <- identical(names(plot$facet$params$rows), \"sex\")\nfacet_cols <- identical(names(plot$facet$params$cols), \"town\")\nexpect_true(facet_rows, info = \"The variable row facetting the plot is incorrect.\")  \nexpect_true(facet_cols, info = \"The variable column facetting the plot is incorrect.\")  \n\nplot_has_hist <- vapply(plot$layers, function(x) inherits(x$geom, \"GeomBar\"), logical(1L))\n\nhist_aes <- plot$layers[[which(plot_has_hist)[[1]]]]$mapping\nhist_aes_solution <- aes(y = after_stat(density))\nexpect_equal(\n  hist_aes, hist_aes_solution, info = \"The aesthetics for your histogram are incorrect. Note that you'll need to use after_stat() to use the variables computed by the histogram stat.\"\n)\n"}},{"node":{"name":"test_06_11C","code":"  \n  \nexpect_true(\n  \"patchwork\" %in% loadedNamespaces(),\n  info = \"You haven't loaded a package which allows you to combine g1 and g2.\"\n)\n\nplot <- last_plot()\nexpect_true(inherits(plot, \"patchwork\"), info = \"The plot outputted does not use the patchwork package to produce it.\")\n"}},{"node":{"name":"test_06_13A","code":"  \nplot <- last_plot()\ntheme_answer <- theme(text = element_text(size = 14, family = \"mono\"),\n        plot.background = element_rect(fill = \"grey80\"),\n        strip.background = element_rect(fill = \"black\"),\n        strip.text = element_text(color = \"white\"),\n        panel.background = element_rect(fill = \"white\",\n                                        color = \"black\"),\n        panel.grid = element_blank())\n\nexpect_equivalent(plot$theme, theme_answer, info = \"The theme specified does not exactly match the plot shown above. Check that you are targeting the correct element for each customisation.\")\n"}},{"node":{"name":"test_07_02A","code":"\nfit_correct <- lm(avgprs ~ taxs, data = Cigarette)\nRSS_correct <- sum(residuals(fit_correct)^2)\nexpect_equal(RSS, RSS_correct, info = \"Your RSS is incorrectly calculated.\")\nbeta0_correct <- coef(fit_correct)[1]\nexpect_equal(beta0, beta0_correct, info = \"Extract the beta0 coefficient using `coef()`\")\nbeta1_correct <- coef(fit_correct)[2]\nexpect_equal(beta1, beta1_correct, info = \"Extract the beta0 coefficient using `coef()`\")\n  \n"}},{"node":{"name":"test_07_04A","code":"library(testthat)\n\ntest <- function() {\n  fit <- lm(avgprs ~ taxs, data = Cigarette)\n  expect_equal(RSS, sum(residuals(fit)^2))\n  expect_equal(beta0, coef(fit)[1])\n  expect_equal(beta1, coef(fit)[2])\n}  \n  \n"}},{"node":{"name":"test_07_06A","code":"\nfit_answer <- lm(avgprs ~ -1 + state, data = Cigarette)\nexpect_equal(fit$residuals, fit_answer$residuals, info = \"Your model does not correctly model what was described above.\")\n\nexpect_equal(betas, coef(fit_answer), info = \"The coefficients in the betas variable are incorrect.\")\n  \n"}}]}}}