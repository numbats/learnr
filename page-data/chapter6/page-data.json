{"componentChunkName":"component---src-templates-chapter-js","path":"/chapter6","result":{"data":{"site":{"siteMetadata":{"courseId":"monash-intro-r"}},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"exercise","properties":{"id":"1","title":"Introduction to tidyverse"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Introduction to tidyverse"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tidyverse is a collection of R packages that transform and visualize\ndata. All packages of the tidyverse share very similar syntax and\nideologies."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tidyverse includes the following packages:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dplyr"}]},{"type":"text","value":": grammar of data manipulation"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tidyr"}]},{"type":"text","value":": reshape your data"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ggplot2"}]},{"type":"text","value":": grammar of graphics"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"readr"}]},{"type":"text","value":": read rectangular data"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tibble"}]},{"type":"text","value":": re-imagining of data frame"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"stringr"}]},{"type":"text","value":": working with string data"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"and many more…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are many other packages with more specialized functions in the\ntidyverse. In this chapter, we focuses on two packages: "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"tidyr"}]},{"type":"text","value":" and\n"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"dplyr"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"dplyr"}]},{"type":"text","value":" is used for grammar of data manipulation. "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"tidyr"}]},{"type":"text","value":" helps you\nto create tidy data or data where each variable is in a column, each\nobservation is a row and each value is a cell. You can use them to solve\nthe most common data manipulation challenges."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can install the core tidyverse packages with:\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"install.packages(\"tidyverse\")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then, to load the package:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"library(tidyverse)"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can also load specific library separately, for example,\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"library(dplyr)"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"2","title":"Introduction to dplyr","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"<"},{"type":"element","tagName":"slides","properties":{"source":"chapter6_02_dplyr"},"children":[{"type":"text","value":" "}]},{"type":"text","value":">"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"3","title":"Check Your Understanding on `dplyr`"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Problem 1"}]},{"type":"text","value":" In this problem, we will use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"iris"}]},{"type":"text","value":" data set. The\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"iris"}]},{"type":"text","value":" dataset is a built-in dataset in R that contains measurements on\n4 different attributes (in centimeters) for 50 flowers from 3 different\nspecies: setosa, versicolor,virginica."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create a new dataframe from the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"iris"}]},{"type":"text","value":" data set that meets the following\ncriteria: contains only the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Sepal.Length"}]},{"type":"text","value":" column and a new column\ncalled "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"petal_area"}]},{"type":"text","value":" containing a value that approximates the area of the\npetal. ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Petal.Length"}]},{"type":"text","value":" times "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Petal.Width"}]},{"type":"text","value":"). Only the rows where\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"petal_area"}]},{"type":"text","value":" is greater than 5 should be shown in the final dataframe.\nThe final dataframe should be called "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"new_iris"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"06_03_01"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Hint: You can use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mutate()"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filter()"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select()"}]},{"type":"text","value":" to help with the\ntask."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Problem 2"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider the data sets "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"size"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"color"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"size <- tibble(\n  product_name = c('mini', 'pro', 'maxi'),\n  diameter = c(23, 27, 32)\n)\n\ncolor <- tibble(\n  product_name = c('mini','light', 'pro'),\n  hue = c('red','green', 'silver')\n)"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We would like to merge the tables so that the result looks like:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"# A tibble: 4 × 3\n  product_name hue    diameter\n  <chr>        <chr>     <dbl>\n1 mini         red          23\n2 light        green        NA\n3 pro          silver       27\n4 maxi         NA           32"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Which of the following commands does the operation?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"## [1] \"<choice id=0.143768886337057>\\n\\n<opt text=\\\"inner_join(color, size)\\\" >\\n\\nTry again!\\n\\n</opt>\\n\\n<opt text=\\\"left_join(color, size)\\\" >\\n\\nTry again!\\n\\n</opt>\\n\\n<opt text=\\\"right_join(color, size)\\\" >\\n\\nTry again!\\n\\n</opt>\\n\\n<opt text=\\\"full_join(color, size)\\\" correct=\\\"true\\\">\\n\\nThat's right!\\n\\n</opt>\\n\\n</choice>\""}]}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"4","title":"Tidy (reshape) your data","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"<"},{"type":"element","tagName":"slides","properties":{"source":"chapter6_04_tidyr"},"children":[{"type":"text","value":" "}]},{"type":"text","value":">"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"5","title":"Check Your Understanding on `tidyr`"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Problem 1"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Which table is tidy?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[1] “"},{"type":"element","tagName":"choice","properties":{"id":"0.887109126895666"},"children":[{"type":"text","value":"<opt text=“Table 1 only”\ncorrect=“true”>‘s correct!<opt text=“Table 3 only” >again!\nEach cell in a tidy data format should hold only a single value. The\ncolumn "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rate"}]},{"type":"text","value":" contains data with two values (one divided by the other)\nand is converted to characters.<opt text=“Table 1 and 3”\n>again! Each cell in a tidy data format should hold only a single\nvalue. The column "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rate"}]},{"type":"text","value":" in Table 3 contains data with two values (one\ndivided by the other) and is converted to characters.<opt\ntext=“Table 2 and 3” >again! Each cell in a tidy data format should\nhold only a single value. The column "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rate"}]},{"type":"text","value":" in Table 3 contains data\nwith two values (one divided by the other) and is converted to\ncharacters. Table 2 contains two variables under the same column\n’type’."}]},{"type":"text","value":"”"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Problem 2"}]},{"type":"text","value":" Consider the following simple table "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"smoke"}]},{"type":"text","value":", which command\ndo I need to transform "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"smoke"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"smoke2"}]},{"type":"text","value":"?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"smoke <- tribble(\n  ~smoke, ~employed, ~unemployed,\n  \"yes\", 23, 10,\n  \"no\", 20, 12\n)\n\nsmoke2\n# A tibble: 4 × 3\n  smoke employment_status count\n  <chr> <chr>             <dbl>\n1 yes   employed             23\n2 yes   unemployed           10\n3 no    employed             20\n4 no    unemployed           12\n\n## [1] \"<choice id=0.956487833755091>\\n\\n<opt text=\\\"Using pivot_wider() on smoke\\\" >\\n\\nTry again!\\n\\n</opt>\\n\\n<opt text=\\\"Using pivot_longer() on smoke\\\" correct=\\\"true\\\">\\n\\nThat's correct!\\n\\n</opt>\\n\\n<opt text=\\\"Using select() on smoke\\\" >\\n\\nTry again!\\n\\n</opt>\\n\\n<opt text=\\\"Using filter() on smoke\\\" >\\n\\nTry again!\\n\\n</opt>\\n\\n</choice>\""}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Problem 3"}]},{"type":"text","value":" Which is the best way to check if there are missing\nobservations in your data?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"## [1] \"<choice id=0.0667221460025758>\\n\\n<opt text=\\\"Eyeballing and look for blanks in my data\\\" >\\n\\nThat's not very effective nor efficient. Use R command to help you!\\n\\n</opt>\\n\\n<opt text=\\\"Eyeballing and look for `blanks`NA` in my data\\\" >\\n\\nThat's not very effective nor efficient. Use R command to help you!\\n\\n</opt>\\n\\n<opt text=\\\"Using is.na() on my data\\\" correct=\\\"true\\\">\\n\\nTry again!\\n\\n</opt>\\n\\n<opt text=\\\"There is no need to find the missing values. We can ignore them.\\\" >\\n\\nThat's incorrect.\\n\\n</opt>\\n\\n</choice>\""}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Congratulations! This is the end of Data Wrangling!"}]},{"type":"text","value":" Here is a useful\ncheat sheet from the RStudio with commands that we introduced and many\nmore:\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf"},"children":[{"type":"text","value":"https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf"}]},{"type":"text","value":"\n"}]}]}],"data":{"quirksMode":false}},"frontmatter":{"id":6,"title":"Chapter 6: Data Wrangling","description":"In this chapter, you will learn to use tidyr and dplyr from the tidyverse in R.","next":"/chapter7","prev":"/chapter5"}}},"pageContext":{"slug":"/chapter6"}},"staticQueryHashes":["1029480139","1771538597","3063084251","4240431937"]}