{"componentChunkName":"component---src-templates-chapter-js","path":"/chapter4","result":{"data":{"site":{"siteMetadata":{"courseId":"monash-intro-r"}},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"exercise","properties":{"id":"1","title":"Getting start with an R project","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"slides","properties":{"source":"chapter4_01_Project_Structure"},"children":[{"type":"text","value":" "}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"2","title":"Organising your files"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are many ways you can organise your files. The one principle you\nshould follow is that make sure all the files you used in your analysis\nare stored within your R project folder."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The folder names that you use is a personal choice, and there is no best\napproach. A project’s folders should organise the files and have names\nthat adequately describes its contents. Often a project contains many\nfiles with different purposes, including scripts, data, reports,\ndocuments, and other outputs."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are some common folder names that are used in analysis projects\nthat you might like to use."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Data is commonly stored in the ‘data’ folder, like we created in the\nslides. If you work with lots of data of different types, you could\nalso use more folders inside your ‘data’ folder. For example, if the\ndata you are working with need pre-processing and cleaning, you\ncould have a ‘data/original’ and ‘data/cleaned’ folders to further\norganise the data files."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Scripts are commonly stored in folders of many different names. For\nR projects, an ‘R’ folder is commonly used (from the structure of an\nR package). Many data analysis projects use a ‘scripts’ folder, and\nmore language agnostic projects might use a ‘src’ or ‘code’ folder.\nOften your code will be split across several scripts that perform\ndifferent tasks, such as cleaning data, producing plots, and\ngenerating reports."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Outputs can be stored in many different folders which describe the\ntype of output. For example, you may like to use a ‘results’ folder\nfor analysis results, a ‘plots’ folder for plots, and a ‘reports’\nfolder for reports."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Accessing your files in a project script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When reading and writing files in a script, you should always use\nrelative paths. Which of the following paths should you use to access\nthe ‘traffic.csv’ file in the data folder?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{"id":"0.539384470088407"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"~/data/traffic.csv"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While the ~ refers to the user’s home directory on all operating\nsystems, it doesn’t ensure that the project is found there."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"/data/traffic.csv"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A relative path does not start with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"data/traffic.csv","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Nicely done!"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"C:\\Users\\learnr\\Documents\\data\\traffic.csv"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the absolute path for Windows"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"/home/learnr/data/traffic.csv"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the absolute path for macOS/Linux"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"3","title":"Different file types"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Common data file formats"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Data can come in many formats, and their file extension typically\nprovides clues into how it should be read into R."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are many different data file types, a summary of some common\nformats are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".csv"}]},{"type":"text","value":": CSV stands for "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Comma Separated Values"}]},{"type":"text","value":". This is one of\nthe common data files you will be working with. Each value is\nseparated by "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":","}]},{"type":"text","value":" and rows are separated by new lines."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".tsv"}]},{"type":"text","value":": TSV stands for "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Tab Separated Values"}]},{"type":"text","value":". This similar to\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".csv"}]},{"type":"text","value":" but each value is separated by a tab."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".fwf"}]},{"type":"text","value":": FWF stands for "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Fixed Width File"}]},{"type":"text","value":". Each column of the data\nare represented with a specific number of characters, with no\nseparator."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".txt"}]},{"type":"text","value":": These are text files, and data within then can be structured\nin any way."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".xls"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".xlsx"}]},{"type":"text","value":" are excel spreadsheets, these could contain\nanything and might require careful inspection to process correctly."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"R also provides some serialised data formats. These can be useful for\nstoring and loading data only to be used in R, but it is usually better\nto use more standard data formats. The advantage of serialised data\nformats is that the column types and exact structure are saved, and so\nthey don’t need parsing when the data is read."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".RData"}]},{"type":"text","value":": This format can store multiple R objects in a single file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".RDS"}]},{"type":"text","value":": The RDS file format stores a single R object in a file."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"What is the appropriate file extension for data stored in this way?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"## species,island,bill_length_mm,bill_depth_mm,flipper_length_mm,body_mass_g,sex,year\n## Adelie,Torgersen,39.1,18.7,181,3750,male,2007\n## Adelie,Torgersen,39.5,17.4,186,3800,female,2007\n## Adelie,Torgersen,40.3,18,195,3250,female,2007\n## Adelie,Torgersen,NA,NA,NA,NA,NA,2007\n## Adelie,Torgersen,36.7,19.3,193,3450,female,2007"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{"id":"0.244310317095369"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":".csv","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Well done."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":".tsv"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Almost, but not quite right! Check the character that separates columns\nin the file contents above."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":".fwf"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Try again! The values stored in the above file do not have a constant\ncolumn size"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":".xlsx"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Try again! This is not an excel spreadsheet."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":".RDS"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Try again! This is not a serialised file format."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"4","title":"Importing data into R"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file formats above can be read into R with functions from the\n"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"readr"}]},{"type":"text","value":" package. We encourage using this package to read data as it is\nfaster than their base equivalents, and creates a tibble instead of a\ndata.frame. We prefer to use tibble for storing our data, it has a\nnicely formatted print output and has some features to prevent some\nsurprising (and likely incorrect) results."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are many more advantages of using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"readr"}]},{"type":"text","value":" package. For further\nreading you can see "},{"type":"element","tagName":"a","properties":{"href":"https://r4ds.had.co.nz/data-import.html#data-import"},"children":[{"type":"text","value":"R for Data Science - Data\nImport"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".csv"}]},{"type":"text","value":": These files can be read with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_csv()"}]},{"type":"text","value":" from the readr\npackage."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".tsv"}]},{"type":"text","value":": These files can be read with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_tsv()"}]},{"type":"text","value":" from the readr\npackage."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".fwf"}]},{"type":"text","value":": These files can be read with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_fwf()"}]},{"type":"text","value":" from the readr\npackage. You will also need to specify the column widths in some\nway, such as using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fwf_widths()"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".txt"}]},{"type":"text","value":": These are text files, and data within then can be structured\nin any way. If the data is stored in a consistent table like\nstructure you might be able to read it with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_table()"}]},{"type":"text","value":" from the\nreadr package. If the structure is complex, you likely need to read\nthe data line by line with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_lines()"}]},{"type":"text","value":" and process the format\nyourself."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".RDS"}]},{"type":"text","value":": These serialised files can be read with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_rds()"}]},{"type":"text","value":" from\nthe readr package."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The readr package does not allow you to read in excel spreadsheets, but\nthere are packages for this. We encourage using the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"readxl"}]},{"type":"text","value":" package\nfor reading data from these files."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".xls"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".xlsx"}]},{"type":"text","value":" can be read in using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_excel()"}]},{"type":"text","value":" function\nfrom the readxl package. You can only read one sheet at a time,\nwhich can be selected using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sheet"}]},{"type":"text","value":" argument."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".RData"}]},{"type":"text","value":" file can contain several objects, the readr package does\nnot support them. If you need to read the objects in from these files,\nyou would use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"load()"}]},{"type":"text","value":" function from base R."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"04_01"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Hint: Just run this code and view the first six rows for this penguins\ndataset"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Import data from online sources"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is also possible to read data directly from the internet, by\nproviding a URL instead of a local file path."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"6","title":"Importing data from online sources"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Import data from online sources"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"So far we have learnt how to import data locally. Now we are going to\nlook at how we can read in data from online sources."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The example dataset we will be using is from the\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/rfordatascience/tidytuesday"},"children":[{"type":"text","value":"TidyTuesday"}]},{"type":"text","value":" project.\nThe data we will try to import from website is the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-01-07"},"children":[{"type":"text","value":"Australian Fires\nData"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"04_05"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Hint: Read this dataset in from the web, using the URL in the comment"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"7","title":"Exporting data from R"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Despite the package’s name, the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"readr"}]},{"type":"text","value":" package also helps you write\ndata from R to a file in many formats. We encourage you to save data\nusing a standard data file format, typically a csv format is\nappropriate."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The functions to write data using the package is to simply replace\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_*()"}]},{"type":"text","value":" with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"write_*()"}]},{"type":"text","value":". For instance, a csv file is read in using\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"read_csv(<file_path>)"}]},{"type":"text","value":", and written out with\n"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"write_csv(<data>, <file_path>)"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"04_06"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Hint: Carefully read the desired file format to create, and search for\nthe function to produce it."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"8","title":"Additional Resources"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://r4ds.had.co.nz"},"children":[{"type":"text","value":"R for Data Science - chapter 8"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://rstats.wtf/project-oriented-workflow.html"},"children":[{"type":"text","value":"Project-oriented\nworkflow"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://here.r-lib.org"},"children":[{"type":"text","value":"here package"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://rstudio-education.github.io/hopr/dataio.html"},"children":[{"type":"text","value":"RStudio Eduction - Importing and saving\ndata"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://r4ds.had.co.nz/data-import.html#data-import"},"children":[{"type":"text","value":"R for Data Science - Data\nImport"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://bookdown.org/rdpeng/rprogdatascience/getting-data-in-and-out-of-r.html"},"children":[{"type":"text","value":"R Programming for Data Science - Getting data in and out of\nR"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"frontmatter":{"id":4,"title":"Chapter 4: Project structure and importing data","description":"This chapter will teach you the basic project structure and good practice of project management in R. You will also learn how to import data from different sources including csv files, excel files and files hosted online.","next":"/chapter5","prev":"/chapter3"}}},"pageContext":{"slug":"/chapter4"}},"staticQueryHashes":["1029480139","1771538597","3063084251","4240431937"]}